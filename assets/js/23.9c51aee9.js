(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{268:function(t,a,s){"use strict";s.r(a);var r=s(28),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端路由"}},[t._v("#")]),t._v(" 前端路由")]),t._v(" "),s("p",[t._v("路由描述的是 URL 与 UI 之间的映射关系，URL 变化引起 UI 更新")]),t._v(" "),s("h2",{attrs:{id:"hash模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash模式"}},[t._v("#")]),t._v(" hash模式")]),t._v(" "),s("p",[t._v("hash模式兼容性更好IE8。路由带个#, 监听#后的变化出发路由器的hashchange事件，改变 URL 中的 hash 部分不会引起页面刷新")]),t._v(" "),s("ol",[s("li",[t._v("hashchange事件监听变化")]),t._v(" "),s("li",[t._v("获取location.hash")]),t._v(" "),s("li",[t._v("hash对应的路由")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hashchange'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("locationHashChanged")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onhashchange "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" locationHashChanged"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"location"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#location"}},[t._v("#")]),t._v(" location")]),t._v(" "),s("ul",[s("li",[t._v("location.href 返回完整的URL")]),t._v(" "),s("li",[t._v("location.hash 返回锚部分'#hash'")]),t._v(" "),s("li",[t._v("location.pathname 路径名")]),t._v(" "),s("li",[t._v("hashchange")])]),t._v(" "),s("h2",{attrs:{id:"history模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history模式"}},[t._v("#")]),t._v(" history模式")]),t._v(" "),s("p",[t._v("利用history.pushState(), histroy.relaceState(), 不会引起页面刷新，不会触发popstate事件，需要手动调用事件")]),t._v(" "),s("h3",{attrs:{id:"history对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history对象"}},[t._v("#")]),t._v(" history对象")]),t._v(" "),s("p",[t._v("记录对象当前窗口的浏览历史")]),t._v(" "),s("h4",{attrs:{id:"history-pushstate-state-title-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history-pushstate-state-title-url"}},[t._v("#")]),t._v(" history.pushState(state, title, url)")]),t._v(" "),s("p",[t._v("state: 一个与添加的记录相关联的状态对象，主要用于popstate事件。该事件触发时，该对象会传入回调函数。也就是说，浏览器会将这个对象序列化以后保留在本地，重新载入这个页面的时候，可以拿到这个对象。如果不需要这个对象，此处可以填null。")]),t._v(" "),s("p",[t._v("title为新页面的标题")]),t._v(" "),s("p",[t._v("url为新的网址，必须与当前页面为同一个域")]),t._v(" "),s("p",[t._v("pushState不会触发popState事件")]),t._v(" "),s("h4",{attrs:{id:"history-replacestate-state-title-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history-replacestate-state-title-url"}},[t._v("#")]),t._v(" history.replaceState(state, title, url)")]),t._v(" "),s("p",[t._v("参数同pushState一致，用于修改 History 对象的当前记录.")]),t._v(" "),s("h4",{attrs:{id:"hisotry-go"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hisotry-go"}},[t._v("#")]),t._v(" hisotry.go()")]),t._v(" "),s("p",[t._v("0为刷新当前页面，触发popState事件")]),t._v(" "),s("h4",{attrs:{id:"history-back"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history-back"}},[t._v("#")]),t._v(" history.back()")]),t._v(" "),s("p",[t._v("点浏览器后退按钮, hisotry.go(-1)，触发popState事件")]),t._v(" "),s("h4",{attrs:{id:"history-forward"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history-forward"}},[t._v("#")]),t._v(" history.forward()")]),t._v(" "),s("p",[t._v("点浏览器前进按钮, hisotry.go(1)，触发popState事件")])])}),[],!1,null,null,null);a.default=n.exports}}]);